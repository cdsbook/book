<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Wrangling Data | An Introduction to Computing and Data for Scientists</title>
  <meta name="description" content="5 Wrangling Data | An Introduction to Computing and Data for Scientists" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Wrangling Data | An Introduction to Computing and Data for Scientists" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Wrangling Data | An Introduction to Computing and Data for Scientists" />
  
  
  



<meta name="date" content="2022-10-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualizing-data.html"/>
<link rel="next" href="exploratory-data-analysis-and-scientific-discovery.html"/>
<script src="book_assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="book_assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="book_assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="book_assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-are-the-computational-and-data-sciences"><i class="fa fa-check"></i><b>1.1</b> What are the computational and data sciences?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#reproducibility"><i class="fa fa-check"></i><b>1.2</b> Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i><b>2</b> Setup</a></li>
<li class="chapter" data-level="3" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>3</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data"><i class="fa fa-check"></i><b>3.1</b> Data</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#operators"><i class="fa fa-check"></i><b>3.2</b> Operators</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#combining-data-with-operators"><i class="fa fa-check"></i><b>3.2.1</b> Combining data with operators</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#operating-on-numbers"><i class="fa fa-check"></i><b>3.2.2</b> Operating on numbers</a></li>
<li class="chapter" data-level="3.2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the---operator"><i class="fa fa-check"></i><b>3.2.3</b> The <code>-</code> operator</a></li>
<li class="chapter" data-level="3.2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-operator"><i class="fa fa-check"></i><b>3.2.4</b> The <code>*</code> operator</a></li>
<li class="chapter" data-level="3.2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-operator-1"><i class="fa fa-check"></i><b>3.2.5</b> The <code>/</code> operator</a></li>
<li class="chapter" data-level="3.2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-operator-2"><i class="fa fa-check"></i><b>3.2.6</b> The <code>^</code> operator</a></li>
<li class="chapter" data-level="3.2.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-operator-3"><i class="fa fa-check"></i><b>3.2.7</b> The <code>%%</code> operator</a></li>
<li class="chapter" data-level="3.2.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-and-operators"><i class="fa fa-check"></i><b>3.2.8</b> The <code>&lt;</code> and <code>&gt;</code> operators</a></li>
<li class="chapter" data-level="3.2.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-operators"><i class="fa fa-check"></i><b>3.2.9</b> The <code>==</code> operators</a></li>
<li class="chapter" data-level="3.2.10" data-path="introduction-to-r.html"><a href="introduction-to-r.html#which-operator-goes-first"><i class="fa fa-check"></i><b>3.2.10</b> Which operator goes first?</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#storing-and-reusing-results-with-variables"><i class="fa fa-check"></i><b>3.3</b> Storing and reusing results with <em>variables</em></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-result-of-the-assignment-operator"><i class="fa fa-check"></i><b>3.3.1</b> The “result” of the assignment operator</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables-are-variable"><i class="fa fa-check"></i><b>3.3.2</b> Variables are… variable</a></li>
<li class="chapter" data-level="3.3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#when-does-assignment-happen"><i class="fa fa-check"></i><b>3.3.3</b> When does assignment happen</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-r-works"><i class="fa fa-check"></i><b>3.4</b> How R works</a></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#more-about-data"><i class="fa fa-check"></i><b>3.5</b> More about data</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#boolean-data-revisted"><i class="fa fa-check"></i><b>3.5.1</b> Boolean data revisted</a></li>
<li class="chapter" data-level="3.5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#combining-pieces-of-data"><i class="fa fa-check"></i><b>3.5.2</b> Combining pieces of data</a></li>
<li class="chapter" data-level="3.5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>3.5.3</b> Vectors</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#expressions-and-how-they-are-evaluated"><i class="fa fa-check"></i><b>3.6</b> Expressions and how they are evaluated</a></li>
<li class="chapter" data-level="3.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#functions"><i class="fa fa-check"></i><b>3.7</b> Functions</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#re-useable-code-functions"><i class="fa fa-check"></i><b>3.7.1</b> Re-useable code = functions</a></li>
<li class="chapter" data-level="3.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-the-hypotenuse-function-works"><i class="fa fa-check"></i><b>3.7.2</b> How the <code>hypotenuse</code> function works</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizing-data.html"><a href="visualizing-data.html"><i class="fa fa-check"></i><b>4</b> Visualizing Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="visualizing-data.html"><a href="visualizing-data.html#visualization-principles"><i class="fa fa-check"></i><b>4.1</b> Visualization principles</a></li>
<li class="chapter" data-level="4.2" data-path="visualizing-data.html"><a href="visualizing-data.html#data-overview"><i class="fa fa-check"></i><b>4.2</b> Data Overview</a></li>
<li class="chapter" data-level="4.3" data-path="visualizing-data.html"><a href="visualizing-data.html#the-plot-function"><i class="fa fa-check"></i><b>4.3</b> The <code>plot()</code> function</a></li>
<li class="chapter" data-level="4.4" data-path="visualizing-data.html"><a href="visualizing-data.html#one-variable-histograms-and-bar-charts"><i class="fa fa-check"></i><b>4.4</b> One variable: histograms and bar charts</a></li>
<li class="chapter" data-level="4.5" data-path="visualizing-data.html"><a href="visualizing-data.html#two-variables-scatter-plots"><i class="fa fa-check"></i><b>4.5</b> Two variables: scatter plots</a></li>
<li class="chapter" data-level="4.6" data-path="visualizing-data.html"><a href="visualizing-data.html#trends-line-graphs"><i class="fa fa-check"></i><b>4.6</b> Trends: line graphs</a></li>
<li class="chapter" data-level="4.7" data-path="visualizing-data.html"><a href="visualizing-data.html#improving-your-graphs"><i class="fa fa-check"></i><b>4.7</b> Improving your graphs</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="wrangling-data.html"><a href="wrangling-data.html"><i class="fa fa-check"></i><b>5</b> Wrangling Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="wrangling-data.html"><a href="wrangling-data.html#wrangling-overview"><i class="fa fa-check"></i><b>5.1</b> Wrangling overview</a></li>
<li class="chapter" data-level="5.2" data-path="wrangling-data.html"><a href="wrangling-data.html#the-dplyr-package-and-the-tidverse"><i class="fa fa-check"></i><b>5.2</b> The <code>dplyr</code> package and the <code>tidverse</code></a></li>
<li class="chapter" data-level="5.3" data-path="wrangling-data.html"><a href="wrangling-data.html#the-presidential-dataset"><i class="fa fa-check"></i><b>5.3</b> The <code>presidential</code> Dataset</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="wrangling-data.html"><a href="wrangling-data.html#examining-the-data"><i class="fa fa-check"></i><b>5.3.1</b> Examining the data</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="wrangling-data.html"><a href="wrangling-data.html#picking-columns-with-select"><i class="fa fa-check"></i><b>5.4</b> Picking columns with <code>select()</code></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-select-function"><i class="fa fa-check"></i><b>5.4.1</b> The <code>select</code> function</a></li>
<li class="chapter" data-level="5.4.2" data-path="wrangling-data.html"><a href="wrangling-data.html#a-simple-select"><i class="fa fa-check"></i><b>5.4.2</b> A simple <code>select()</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="wrangling-data.html"><a href="wrangling-data.html#selecting-multiple-columns"><i class="fa fa-check"></i><b>5.4.3</b> Selecting multiple columns</a></li>
<li class="chapter" data-level="5.4.4" data-path="wrangling-data.html"><a href="wrangling-data.html#selecting-a-range"><i class="fa fa-check"></i><b>5.4.4</b> Selecting a range</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="wrangling-data.html"><a href="wrangling-data.html#sorting-with-arrange"><i class="fa fa-check"></i><b>5.5</b> Sorting with <code>arrange()</code></a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-arrange-function"><i class="fa fa-check"></i><b>5.5.1</b> The <code>arrange</code> function</a></li>
<li class="chapter" data-level="5.5.2" data-path="wrangling-data.html"><a href="wrangling-data.html#arrange-practice"><i class="fa fa-check"></i><b>5.5.2</b> Arrange practice</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="wrangling-data.html"><a href="wrangling-data.html#piping-data-between-functions"><i class="fa fa-check"></i><b>5.6</b> <em>Piping</em> data between functions</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-pipe-operator"><i class="fa fa-check"></i><b>5.6.1</b> The pipe <code>%&gt;%</code> operator</a></li>
<li class="chapter" data-level="5.6.2" data-path="wrangling-data.html"><a href="wrangling-data.html#piping-practice"><i class="fa fa-check"></i><b>5.6.2</b> Piping practice</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="wrangling-data.html"><a href="wrangling-data.html#boolean-logic"><i class="fa fa-check"></i><b>5.7</b> Boolean logic</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="wrangling-data.html"><a href="wrangling-data.html#review-of-boolean-logic"><i class="fa fa-check"></i><b>5.7.1</b> Review of Boolean logic</a></li>
<li class="chapter" data-level="5.7.2" data-path="wrangling-data.html"><a href="wrangling-data.html#boolean-logic-quiz"><i class="fa fa-check"></i><b>5.7.2</b> Boolean logic quiz</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="wrangling-data.html"><a href="wrangling-data.html#picking-rows-with-filter"><i class="fa fa-check"></i><b>5.8</b> Picking rows with <code>filter()</code></a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-filter-function"><i class="fa fa-check"></i><b>5.8.1</b> The <code>filter</code> function</a></li>
<li class="chapter" data-level="5.8.2" data-path="wrangling-data.html"><a href="wrangling-data.html#some-practice"><i class="fa fa-check"></i><b>5.8.2</b> Some practice</a></li>
<li class="chapter" data-level="5.8.3" data-path="wrangling-data.html"><a href="wrangling-data.html#filtering-with-multiple-conditions"><i class="fa fa-check"></i><b>5.8.3</b> Filtering with multiple conditions</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="wrangling-data.html"><a href="wrangling-data.html#creating-columns-with-mutate"><i class="fa fa-check"></i><b>5.9</b> Creating columns with <code>mutate()</code></a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-mutate-function"><i class="fa fa-check"></i><b>5.9.1</b> The <code>mutate</code> function</a></li>
<li class="chapter" data-level="5.9.2" data-path="wrangling-data.html"><a href="wrangling-data.html#end-year"><i class="fa fa-check"></i><b>5.9.2</b> End year</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="wrangling-data.html"><a href="wrangling-data.html#grouping-and-summarizing"><i class="fa fa-check"></i><b>5.10</b> Grouping and summarizing</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-group_by-and-summarize-functions"><i class="fa fa-check"></i><b>5.10.1</b> The <code>group_by</code> and <code>summarize</code> functions</a></li>
<li class="chapter" data-level="5.10.2" data-path="wrangling-data.html"><a href="wrangling-data.html#practice"><i class="fa fa-check"></i><b>5.10.2</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="wrangling-data.html"><a href="wrangling-data.html#what-is-tidy-data"><i class="fa fa-check"></i><b>5.11</b> What is tidy data?</a></li>
<li class="chapter" data-level="5.12" data-path="wrangling-data.html"><a href="wrangling-data.html#converting-columns-to-rows"><i class="fa fa-check"></i><b>5.12</b> Converting columns to rows</a>
<ul>
<li class="chapter" data-level="5.12.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-pivot_longer-function"><i class="fa fa-check"></i><b>5.12.1</b> The <code>pivot_longer()</code> function</a></li>
<li class="chapter" data-level="5.12.2" data-path="wrangling-data.html"><a href="wrangling-data.html#practice-1"><i class="fa fa-check"></i><b>5.12.2</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="wrangling-data.html"><a href="wrangling-data.html#turning-rows-to-columns"><i class="fa fa-check"></i><b>5.13</b> Turning rows to columns</a>
<ul>
<li class="chapter" data-level="5.13.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-pivot_wider-function"><i class="fa fa-check"></i><b>5.13.1</b> The <code>pivot_wider()</code> function</a></li>
<li class="chapter" data-level="5.13.2" data-path="wrangling-data.html"><a href="wrangling-data.html#practice-2"><i class="fa fa-check"></i><b>5.13.2</b> Practice</a></li>
<li class="chapter" data-level="5.13.3" data-path="wrangling-data.html"><a href="wrangling-data.html#what-happened-to-those-dates"><i class="fa fa-check"></i><b>5.13.3</b> What happened to those dates?</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="wrangling-data.html"><a href="wrangling-data.html#splitting-and-combining"><i class="fa fa-check"></i><b>5.14</b> Splitting and combining</a>
<ul>
<li class="chapter" data-level="5.14.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-separate-function"><i class="fa fa-check"></i><b>5.14.1</b> The <code>separate</code> function</a></li>
<li class="chapter" data-level="5.14.2" data-path="wrangling-data.html"><a href="wrangling-data.html#the-unite-function"><i class="fa fa-check"></i><b>5.14.2</b> The <code>unite</code> function</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="wrangling-data.html"><a href="wrangling-data.html#other-data-wrangling-functions"><i class="fa fa-check"></i><b>5.15</b> Other data wrangling functions</a>
<ul>
<li class="chapter" data-level="5.15.1" data-path="wrangling-data.html"><a href="wrangling-data.html#other-helpful-dplyr-verbs"><i class="fa fa-check"></i><b>5.15.1</b> Other helpful <code>dplyr</code> verbs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="exploratory-data-analysis-and-scientific-discovery.html"><a href="exploratory-data-analysis-and-scientific-discovery.html"><i class="fa fa-check"></i><b>6</b> Exploratory Data Analysis and Scientific Discovery</a></li>
<li class="chapter" data-level="7" data-path="modeling.html"><a href="modeling.html"><i class="fa fa-check"></i><b>7</b> Modeling</a></li>
<li class="chapter" data-level="8" data-path="statistical-inference.html"><a href="statistical-inference.html"><i class="fa fa-check"></i><b>8</b> Statistical Inference</a></li>
<li class="chapter" data-level="9" data-path="an-example.html"><a href="an-example.html"><i class="fa fa-check"></i><b>9</b> An Example</a></li>
<li class="chapter" data-level="10" data-path="more-about-r.html"><a href="more-about-r.html"><i class="fa fa-check"></i><b>10</b> More about R</a></li>
<li class="chapter" data-level="11" data-path="computing-and-computers.html"><a href="computing-and-computers.html"><i class="fa fa-check"></i><b>11</b> Computing and Computers</a></li>
<li class="chapter" data-level="12" data-path="reproducibility-1.html"><a href="reproducibility-1.html"><i class="fa fa-check"></i><b>12</b> Reproducibility</a></li>
<li class="chapter" data-level="13" data-path="more-graphs.html"><a href="more-graphs.html"><i class="fa fa-check"></i><b>13</b> More Graphs</a></li>
<li class="chapter" data-level="14" data-path="more-models.html"><a href="more-models.html"><i class="fa fa-check"></i><b>14</b> More Models</a></li>
<li class="chapter" data-level="15" data-path="more-statistics.html"><a href="more-statistics.html"><i class="fa fa-check"></i><b>15</b> More Statistics</a></li>
<li class="chapter" data-level="16" data-path="causality.html"><a href="causality.html"><i class="fa fa-check"></i><b>16</b> Causality</a></li>
<li class="chapter" data-level="17" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>17</b> Simulation</a></li>
<li class="chapter" data-level="18" data-path="prediction.html"><a href="prediction.html"><i class="fa fa-check"></i><b>18</b> Prediction</a></li>
<li class="chapter" data-level="19" data-path="image-data.html"><a href="image-data.html"><i class="fa fa-check"></i><b>19</b> Image Data</a></li>
<li class="chapter" data-level="20" data-path="text-data.html"><a href="text-data.html"><i class="fa fa-check"></i><b>20</b> Text Data</a></li>
<li class="chapter" data-level="21" data-path="time-series.html"><a href="time-series.html"><i class="fa fa-check"></i><b>21</b> Time Series</a></li>
<li class="chapter" data-level="22" data-path="online-data.html"><a href="online-data.html"><i class="fa fa-check"></i><b>22</b> Online Data</a></li>
<li class="chapter" data-level="23" data-path="geospatial-data.html"><a href="geospatial-data.html"><i class="fa fa-check"></i><b>23</b> Geospatial Data</a></li>
<li class="chapter" data-level="24" data-path="bioinformatic-data.html"><a href="bioinformatic-data.html"><i class="fa fa-check"></i><b>24</b> Bioinformatic Data</a></li>
<li class="chapter" data-level="25" data-path="network-data.html"><a href="network-data.html"><i class="fa fa-check"></i><b>25</b> Network Data</a></li>
<li class="chapter" data-level="26" data-path="databases.html"><a href="databases.html"><i class="fa fa-check"></i><b>26</b> Databases</a></li>
<li class="chapter" data-level="27" data-path="big-data.html"><a href="big-data.html"><i class="fa fa-check"></i><b>27</b> Big Data</a></li>
<li class="chapter" data-level="28" data-path="output-papers.html"><a href="output-papers.html"><i class="fa fa-check"></i><b>28</b> Output: Papers</a></li>
<li class="chapter" data-level="29" data-path="output-webpages.html"><a href="output-webpages.html"><i class="fa fa-check"></i><b>29</b> Output: Webpages</a></li>
<li class="chapter" data-level="30" data-path="output-dashboards.html"><a href="output-dashboards.html"><i class="fa fa-check"></i><b>30</b> Output: Dashboards</a></li>
<li class="chapter" data-level="31" data-path="output-apps.html"><a href="output-apps.html"><i class="fa fa-check"></i><b>31</b> Output: Apps</a></li>
<li class="chapter" data-level="32" data-path="output-software.html"><a href="output-software.html"><i class="fa fa-check"></i><b>32</b> Output: Software</a></li>
<li class="chapter" data-level="33" data-path="appendix-further-reading.html"><a href="appendix-further-reading.html"><i class="fa fa-check"></i><b>33</b> Appendix: Further Reading</a></li>
<li class="chapter" data-level="34" data-path="appendix-rstudio-other-editors.html"><a href="appendix-rstudio-other-editors.html"><i class="fa fa-check"></i><b>34</b> Appendix: RStudio &amp; other editors</a></li>
<li class="chapter" data-level="35" data-path="appendix-git-github.html"><a href="appendix-git-github.html"><i class="fa fa-check"></i><b>35</b> Appendix: Git &amp; GitHub</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to Computing and Data for Scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangling-data" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Wrangling Data<a href="wrangling-data.html#wrangling-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this chapter we will learn how to manipulate and transform tables of data.</p>
<div id="wrangling-overview" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Wrangling overview<a href="wrangling-data.html#wrangling-overview" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/j8tKN7Iw5dw?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1LssVpGMhlblGewJtwO3NgdSZO-FF0uQQ">PDF</a></p>
</div>
<div id="the-dplyr-package-and-the-tidverse" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> The <code>dplyr</code> package and the <code>tidverse</code><a href="wrangling-data.html#the-dplyr-package-and-the-tidverse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- TODO -->
<p>TBA: packages and loading with <code>library()</code></p>
</div>
<div id="the-presidential-dataset" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> The <code>presidential</code> Dataset<a href="wrangling-data.html#the-presidential-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="examining-the-data" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Examining the data<a href="wrangling-data.html#examining-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- TODO: change the dataset -->
<p>For the first part of this chapter we will be using a dataset of US presidents. This dataset is stored in a variable called <code>presidential</code>.</p>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-24" class="exercise"><strong>Exercise 5.1  </strong></span>Use <code>head()</code> function to check some of the contents of the <code>presidential</code> dataframe. (The <code>head()</code> function prints the first six rows of a dataframe.)</p>
<p>Run <code>head(presidential)</code> in the R Console and examine the output.</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
<!--
TODO:
glimpse function? `str` function?
quiz (number of rows, columns, what does each observation represent, etc.)
-->
</div>
</div>
<div id="picking-columns-with-select" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Picking columns with <code>select()</code><a href="wrangling-data.html#picking-columns-with-select" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-select-function" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> The <code>select</code> function<a href="wrangling-data.html#the-select-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>select()</code> function can be used to pick certain columns of a dataset. The output of <code>select()</code> is a new dataframe containing just the columns that you specified.</p>
<p><strong>Ignore the video’s instruction to follow along in RStudio</strong>: you will try this function out on the next page of this tutorial instead.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/bfmMYUOWnls?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1DtuT-rtWs-i6MzWiYtX4HUvlqpIlZfUm">PDF</a></p>
</div>
<div id="a-simple-select" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> A simple <code>select()</code><a href="wrangling-data.html#a-simple-select" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-25" class="exercise"><strong>Exercise 5.2  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="wrangling-data.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace the blank with the name of the column</span></span>
<span id="cb61-2"><a href="wrangling-data.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(presidential, _____)</span></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="wrangling-data.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(presidential, name)</span></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="wrangling-data.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grade_code</span>(<span class="st">&quot;Nice work!&quot;</span>)</span></code></pre></div>
<!-- End tutorial -->
</div>
<div id="selecting-multiple-columns" class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Selecting multiple columns<a href="wrangling-data.html#selecting-multiple-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can put as many column names as we want into the <code>select</code> function, separating each by a comma.</p>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-26" class="exercise"><strong>Exercise 5.3  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
</div>
<div id="selecting-a-range" class="section level3 hasAnchor" number="5.4.4">
<h3><span class="header-section-number">5.4.4</span> Selecting a range<a href="wrangling-data.html#selecting-a-range" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In R, the range operator, <code>:</code> (the colon punctuation symbol) indicates a range.</p>
<p>For example, this code create a vector of all the integer numbers in the range of 1-10:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="wrangling-data.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>(We could also have written <code>c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</code> as you learned in the first week, but the range operator is a convenient shorthand in this scenario.)</p>
<p>We can also use the range operator to indicate a range of columns inside <code>dplyr</code> functions such as <code>select</code>:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="wrangling-data.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(presidential, name<span class="sc">:</span>end)</span></code></pre></div>
<p>This selects all sequential columns from <code>name</code> to <code>end</code> (which in this case is <code>name</code>, <code>start</code>, and <code>end</code>).</p>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-27" class="exercise"><strong>Exercise 5.4  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
<blockquote>
<p>Note:</p>
<p>You combine ranges and individual column selections by separating them by commas, e.g.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="wrangling-data.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(presidential, name<span class="sc">:</span>start, party)</span></code></pre></div>
</blockquote>
<!--
TODO
### Inverse selections
-->
</div>
</div>
<div id="sorting-with-arrange" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Sorting with <code>arrange()</code><a href="wrangling-data.html#sorting-with-arrange" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-arrange-function" class="section level3 hasAnchor" number="5.5.1">
<h3><span class="header-section-number">5.5.1</span> The <code>arrange</code> function<a href="wrangling-data.html#the-arrange-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/9Hnz8KEBCUc?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1yrnIiFINXI1nA8IFRnPhbLZVdU5MVcXn">PDF</a></p>
</div>
<div id="arrange-practice" class="section level3 hasAnchor" number="5.5.2">
<h3><span class="header-section-number">5.5.2</span> Arrange practice<a href="wrangling-data.html#arrange-practice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-28" class="exercise"><strong>Exercise 5.5  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
</div>
</div>
<div id="piping-data-between-functions" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> <em>Piping</em> data between functions<a href="wrangling-data.html#piping-data-between-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-pipe-operator" class="section level3 hasAnchor" number="5.6.1">
<h3><span class="header-section-number">5.6.1</span> The pipe <code>%&gt;%</code> operator<a href="wrangling-data.html#the-pipe-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/SdrBENv3F-s?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1SCd5J-w1Z9E6vmT2LbmaeDZaE8pDA2p4">PDF</a></p>
<p>As described in the video, the pipe operator takes the value on its left and inserts it as the first argument of the function on the right.</p>
<p>In other words:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="wrangling-data.html#cb68-1" aria-hidden="true" tabindex="-1"></a>some_data <span class="sc">%&gt;%</span> <span class="fu">someFunction</span>()</span></code></pre></div>
<p>is equivalent to:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="wrangling-data.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">someFunction</span>(some_data)</span></code></pre></div>
<p>If there are other arguments supplied to the function, they get “pushed back” so that the data piped in can claim the “first argument” spot:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="wrangling-data.html#cb70-1" aria-hidden="true" tabindex="-1"></a>some_dataframe <span class="sc">%&gt;%</span> <span class="fu">someFunction</span>(this_is_really_argument_2)</span></code></pre></div>
<p>is the same as:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="wrangling-data.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">someFunction</span>(some_data, this_is_really_argument_2)</span></code></pre></div>
</div>
<div id="piping-practice" class="section level3 hasAnchor" number="5.6.2">
<h3><span class="header-section-number">5.6.2</span> Piping practice<a href="wrangling-data.html#piping-practice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-29" class="exercise"><strong>Exercise 5.6  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<p>(Note that we can put a new line after the <code>%&gt;%</code> operator as above - R knows that there must be a right-hand side, so it treats both lines as the same line.)</p>
<!-- End tutorial -->
<p><strong>Why does this matter?</strong></p>
<p>The first argument of functions in the <em>tidyverse</em> is the dataframe. However, many functions also output a dataframe (as does a variable holding a dataframe, such as <code>presidential</code>). So we can just pipe from one function to another and build up a long chain of functions: i.e. a <em>pipe</em>:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="wrangling-data.html#cb72-1" aria-hidden="true" tabindex="-1"></a>some_dataframe <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a href="wrangling-data.html#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(some_columns) <span class="sc">%&gt;%</span></span>
<span id="cb72-3"><a href="wrangling-data.html#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">some_other_function</span>() <span class="sc">%&gt;%</span></span>
<span id="cb72-4"><a href="wrangling-data.html#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">a_third_function</span>(different_argument)</span></code></pre></div>
<blockquote>
<p>Note that I have invented some made-up functions and variable names in the code above - this is called <em>pseudocode</em>.</p>
</blockquote>
<!--
Note: Skipped over the slice function here
-->
</div>
</div>
<div id="boolean-logic" class="section level2 hasAnchor" number="5.7">
<h2><span class="header-section-number">5.7</span> Boolean logic<a href="wrangling-data.html#boolean-logic" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="review-of-boolean-logic" class="section level3 hasAnchor" number="5.7.1">
<h3><span class="header-section-number">5.7.1</span> Review of Boolean logic<a href="wrangling-data.html#review-of-boolean-logic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_nVGIkzf8fg?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1j8y2iLJSiiH7B-NmA6T-Qf9-Mlyb3m1x">PDF</a></p>
</div>
<div id="boolean-logic-quiz" class="section level3 hasAnchor" number="5.7.2">
<h3><span class="header-section-number">5.7.2</span> Boolean logic quiz<a href="wrangling-data.html#boolean-logic-quiz" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You are already a little familiar with Boolean operators from the Introduction to R tutorial, so let’s refresh our memories with a quick quiz.</p>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-30" class="exercise"><strong>Exercise 5.7  </strong></span>Quiz TBA</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
<!-- TODO: Possible addition: boolean operators in `select()` ? e.g. %in% -->
</div>
</div>
<div id="picking-rows-with-filter" class="section level2 hasAnchor" number="5.8">
<h2><span class="header-section-number">5.8</span> Picking rows with <code>filter()</code><a href="wrangling-data.html#picking-rows-with-filter" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-filter-function" class="section level3 hasAnchor" number="5.8.1">
<h3><span class="header-section-number">5.8.1</span> The <code>filter</code> function<a href="wrangling-data.html#the-filter-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/BnscboiLaUM?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1bs6q7_PNEqKa6FLYfPY65kwkZtRQ8QKB">PDF</a></p>
</div>
<div id="some-practice" class="section level3 hasAnchor" number="5.8.2">
<h3><span class="header-section-number">5.8.2</span> Some practice<a href="wrangling-data.html#some-practice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-31" class="exercise"><strong>Exercise 5.8  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
</div>
<div id="filtering-with-multiple-conditions" class="section level3 hasAnchor" number="5.8.3">
<h3><span class="header-section-number">5.8.3</span> Filtering with multiple conditions<a href="wrangling-data.html#filtering-with-multiple-conditions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-32" class="exercise"><strong>Exercise 5.9  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
</div>
</div>
<div id="creating-columns-with-mutate" class="section level2 hasAnchor" number="5.9">
<h2><span class="header-section-number">5.9</span> Creating columns with <code>mutate()</code><a href="wrangling-data.html#creating-columns-with-mutate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-mutate-function" class="section level3 hasAnchor" number="5.9.1">
<h3><span class="header-section-number">5.9.1</span> The <code>mutate</code> function<a href="wrangling-data.html#the-mutate-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1YuxbvsaErk?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/155Z3Zs3AUjg6We5IotAexY_bdpFGDDvA">PDF</a></p>
</div>
<div id="end-year" class="section level3 hasAnchor" number="5.9.2">
<h3><span class="header-section-number">5.9.2</span> End year<a href="wrangling-data.html#end-year" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-33" class="exercise"><strong>Exercise 5.10  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
</div>
</div>
<div id="grouping-and-summarizing" class="section level2 hasAnchor" number="5.10">
<h2><span class="header-section-number">5.10</span> Grouping and summarizing<a href="wrangling-data.html#grouping-and-summarizing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-group_by-and-summarize-functions" class="section level3 hasAnchor" number="5.10.1">
<h3><span class="header-section-number">5.10.1</span> The <code>group_by</code> and <code>summarize</code> functions<a href="wrangling-data.html#the-group_by-and-summarize-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/5UOC4b2_G8s?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1myTkhZPrLjylP5mtvkARZrk7GFhxzR5H">PDF</a></p>
</div>
<div id="practice" class="section level3 hasAnchor" number="5.10.2">
<h3><span class="header-section-number">5.10.2</span> Practice<a href="wrangling-data.html#practice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-34" class="exercise"><strong>Exercise 5.11  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
</div>
</div>
<div id="what-is-tidy-data" class="section level2 hasAnchor" number="5.11">
<h2><span class="header-section-number">5.11</span> What is tidy data?<a href="wrangling-data.html#what-is-tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far we have looked at relatively simple data wrangling operations that return subsets of the data. However, we often want to reshape the dataframe to turn it into a format called <strong>tidy data</strong>. This video will introduce you to what tidy data looks like.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/FAU7bgezxRU?rel=0" frameborder="0" allowfullscreen>
</iframe>
<!--
TODO:
- Add new slides
-->
<!-- Slides: [PDF](https://drive.google.com/file/d/174WhC51cMkM_IfBH12HME-bZNQu3rJ4o) -->
</div>
<div id="converting-columns-to-rows" class="section level2 hasAnchor" number="5.12">
<h2><span class="header-section-number">5.12</span> Converting columns to rows<a href="wrangling-data.html#converting-columns-to-rows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-pivot_longer-function" class="section level3 hasAnchor" number="5.12.1">
<h3><span class="header-section-number">5.12.1</span> The <code>pivot_longer()</code> function<a href="wrangling-data.html#the-pivot_longer-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/B-OTLMCYYGQ?rel=0" frameborder="0" allowfullscreen>
</iframe>
<!--
TODO:
- Add new slides
-->
<!-- Slides: [PDF](https://drive.google.com/file/d/1CTxz65d4TfHhCAl3AaF1guNl3OvFABgm) -->
</div>
<div id="practice-1" class="section level3 hasAnchor" number="5.12.2">
<h3><span class="header-section-number">5.12.2</span> Practice<a href="wrangling-data.html#practice-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s try the <code>pivot_longer()</code> function on the <code>presidential</code> dataset. We will reshape this dataset to convert the two data columns (<code>start</code> and <code>end</code>) into rows, with a names column that indicates the name of the original column, and a values column that holds the dates.</p>
<p>In other words, we want to convert the <code>presidential</code> dataframe:</p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>start</th>
<th>end</th>
<th>party</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Eisenhower</td>
<td>1953-01-20</td>
<td>1961-01-20</td>
<td>Republican</td>
</tr>
<tr class="even">
<td>Kennedy</td>
<td>1961-01-20</td>
<td>1963-11-22</td>
<td>Democratic</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>into this:</p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>type_of_date</th>
<th>date</th>
<th>party</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Eisenhower</td>
<td>start</td>
<td>1953-01-20</td>
<td>Republican</td>
</tr>
<tr class="even">
<td>Eisenhower</td>
<td>end</td>
<td>1961-01-20</td>
<td>Republican</td>
</tr>
<tr class="odd">
<td>Kennedy</td>
<td>start</td>
<td>1961-01-20</td>
<td>Democratic</td>
</tr>
<tr class="even">
<td>Kennedy</td>
<td>end</td>
<td>1963-11-22</td>
<td>Democratic</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>The data in both dataframes is the same, but we have changed the <em>shape</em> of the dataframe by converting columns into rows.</p>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-35" class="exercise"><strong>Exercise 5.12  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!--
TODO:
- make sure the order of columns doesn't matter for the grader, and then remove hint #2
-->
<!-- End tutorial -->
</div>
</div>
<div id="turning-rows-to-columns" class="section level2 hasAnchor" number="5.13">
<h2><span class="header-section-number">5.13</span> Turning rows to columns<a href="wrangling-data.html#turning-rows-to-columns" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-pivot_wider-function" class="section level3 hasAnchor" number="5.13.1">
<h3><span class="header-section-number">5.13.1</span> The <code>pivot_wider()</code> function<a href="wrangling-data.html#the-pivot_wider-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ULZ2iLDDjTU?rel=0" frameborder="0" allowfullscreen>
</iframe>
<!--
TODO:
- Add new slides
-->
<!-- Slides: [PDF](https://drive.google.com/file/d/1c3yI5GcKdF93rALaa72jo8vV0PqyIuGW) -->
</div>
<div id="practice-2" class="section level3 hasAnchor" number="5.13.2">
<h3><span class="header-section-number">5.13.2</span> Practice<a href="wrangling-data.html#practice-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s use the <code>pivot_wider()</code> function to undo the transformation we did earlier with the <code>pivot_longer()</code> function.</p>
<p>I.e. we want to turn this:</p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>type_of_date</th>
<th>date</th>
<th>party</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Eisenhower</td>
<td>start</td>
<td>1953-01-20</td>
<td>Republican</td>
</tr>
<tr class="even">
<td>Eisenhower</td>
<td>end</td>
<td>1961-01-20</td>
<td>Republican</td>
</tr>
<tr class="odd">
<td>Kennedy</td>
<td>start</td>
<td>1961-01-20</td>
<td>Democratic</td>
</tr>
<tr class="even">
<td>Kennedy</td>
<td>end</td>
<td>1963-11-22</td>
<td>Democratic</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>back into this:</p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>start</th>
<th>end</th>
<th>party</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Eisenhower</td>
<td>1953-01-20</td>
<td>1961-01-20</td>
<td>Republican</td>
</tr>
<tr class="even">
<td>Kennedy</td>
<td>1961-01-20</td>
<td>1963-11-22</td>
<td>Democratic</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<!-- Book version -->
<div class="exercise">
<p><span id="exr:unlabeled-div-36" class="exercise"><strong>Exercise 5.13  </strong></span>Exercise TBM</p>
</div>
<!-- End book -->
<!-- Tutorial version -->
<!-- End tutorial -->
</div>
<div id="what-happened-to-those-dates" class="section level3 hasAnchor" number="5.13.3">
<h3><span class="header-section-number">5.13.3</span> What happened to those dates?<a href="wrangling-data.html#what-happened-to-those-dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When we tried to reverse the transformation, we were not able to retrieve the start and end date columns back in the same format as we originally started with in the <code>presidential</code> dataframe.</p>
<p>Instead of actual dates in the column, you should see values such as <code>&lt;date [1]&gt;</code>. This indicate that each cell of the table holds a list of dates instead of just a single date.</p>
<p>You code will also have generated a warning about this: <code>Warning: Values are not uniquely identified; output will contain list-cols.</code></p>
<p>What are these non-unique values that we are being warned about? If you look through the table created by <code>pivot_wider()</code>, you will notice that one president’s date list is longer than the others (see if you can find which president this is).</p>
<!-- TODO: Make this ^^ a question -->
<p>In fact, there were two US presidents with this same surname during the period of this dataset, and consequently, when we tried to widen the table and identify unique rows, we identified 2 start dates and 2 end dates for this presidential surname.</p>
<p>To avoid these problems when using <code>pivot_wider()</code>, we always need at least one column in the remaining non-widened columns that is unique for each row we wish to generate in our output. Here we fail that requirement, because one of the presidential surnames in our dataset is used by two seperate observations (presidents).</p>
<p>By default, <code>pivot_wider()</code> assumes that all remaining columns are unique for all widened rows. However, if there are only one or a few unique columns, these can be specified by supplying those column names to the <code>id_cols</code> argument of the <code>pivot_wider()</code> function.</p>
</div>
</div>
<div id="splitting-and-combining" class="section level2 hasAnchor" number="5.14">
<h2><span class="header-section-number">5.14</span> Splitting and combining<a href="wrangling-data.html#splitting-and-combining" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-separate-function" class="section level3 hasAnchor" number="5.14.1">
<h3><span class="header-section-number">5.14.1</span> The <code>separate</code> function<a href="wrangling-data.html#the-separate-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uqiqEnRKfFg?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/17SOza86ASc-ioFA6_vmFeUj_HGWv_B7t">PDF</a></p>
<!--
TODO:
Add exercises
-->
</div>
<div id="the-unite-function" class="section level3 hasAnchor" number="5.14.2">
<h3><span class="header-section-number">5.14.2</span> The <code>unite</code> function<a href="wrangling-data.html#the-unite-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/izCk8NBycmo?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1En-4bj2Vh74wdkPbdRmXSSS5K0UQNFGK">PDF</a></p>
<p>That’s it for this tutorial!</p>
<!--
TODO:
Add exercises
-->
<!--
TODO:
- joins: inner, left, right, full outer
-->
</div>
</div>
<div id="other-data-wrangling-functions" class="section level2 hasAnchor" number="5.15">
<h2><span class="header-section-number">5.15</span> Other data wrangling functions<a href="wrangling-data.html#other-data-wrangling-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="other-helpful-dplyr-verbs" class="section level3 hasAnchor" number="5.15.1">
<h3><span class="header-section-number">5.15.1</span> Other helpful <code>dplyr</code> verbs<a href="wrangling-data.html#other-helpful-dplyr-verbs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ZTL_tP70-zo?rel=0" frameborder="0" allowfullscreen>
</iframe>
<p>Slides: <a href="https://drive.google.com/file/d/1mjcislhv3o_KUbTlSsw8pT6aar4uqSYZ">PDF</a></p>
<!--
TODO:
- add exercises here?
-->

<div style="page-break-after: always;"></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualizing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exploratory-data-analysis-and-scientific-discovery.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro_to_cds.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
